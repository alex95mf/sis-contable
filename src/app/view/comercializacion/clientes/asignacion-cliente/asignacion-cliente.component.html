<div class="mt-4">
    <app-button-radio-active titulo="ASIGNACION DE AGENTES A CLIENTES" filtroBoton="btnsAsigEjecutivo" cstyle="bg-gradient-primary text-white" [groupButton]="vmButtons" (onMetodoGlobal)="metodoGlobal($event)" icono="fas fa-sync-alt">
        <div class="row justify-content-center">
            <div class="col-12 container-filter ">
                <div class="row  justify-content-center">
                    <div class="col-md-12 justify-content-center">
                        <div class="row mt-2  justify-content-center">
                            <div class="col-sm-6">
                                <div class="input-group input-group-sm mt-1">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text size-span-campo" id="inputGroup-sizing-sm">Vendedor</span>
                                    </div>
                                    <ng-select id="IdCliente" class="form-control custom" appendTo="body" [searchable]="true" [clearable]="true" [(ngModel)]="vendedor" (ngModelChange)="searchVendedor($event)">
                                        <ng-option [value]="0">Seleccione Asesor</ng-option>
                                        <ng-option *ngFor="let d of vendedores" [value]="d.id_usuario">
                                            {{ d.nombre }}
                                        </ng-option>
                                    </ng-select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="input-group input-group-sm mt-1">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text size-span-campo" id="inputGroup-sizing-sm">Cliente</span>
                                    </div>
                                    <ng-select id="IdCliente" class="form-control custom" appendTo="body" [searchable]="true" [clearable]="true" [(ngModel)]="cliente" (ngModelChange)="searchCliente($event)">
                                        <ng-option [value]="0">Seleccione Cliente</ng-option>
                                        <ng-option *ngFor="let d of clientes" [value]="d.id_cliente">
                                            {{ d.razon_social }}
                                        </ng-option>
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--        <div class="row justify-content-center mt-4 filters">
            <div class="col-md-12 mt-3" style="height: 240px;">
                <div class="form-group table-responsive responsive-table" style="max-height: 300px;overflow-y: scroll;">
                    <table class="table no-footer table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Clientes</th>
                                <th>Vendedor</th>
                            </tr>
                        </thead>
                        <tbody *ngIf="validaDt">
                            <tr *ngFor="let dt of search; let i = index">
                                <td>{{ i + 1 }}</td>
                                <td>{{ dt.nombre_comercial_cli }}</td>
                                <td>
                                    <ng-select class="form-control custom" appendTo="body" [searchable]="true" [clearable]="true" [(ngModel)]="dt.id_usuario" (ngModelChange)="getNameBank()">
                                        <ng-option *ngFor="let d of vendedores" [value]="d.id_usuario">
                                            {{ d.nombre }}
                                        </ng-option>
                                    </ng-select>
                                </td>
                            </tr>
                        </tbody>
                                            <tfoot>
                            <tr>
                                <td class="text-left">
                                    TOTAL REGISTROS
                                </td>
                                <td class="text-right">
                                    CAMBIOS APLICADOS
                                </td>
                                <td class="text-left">
                                    111
                                </td>
                            </tr>
                        </tfoot> 
                    </table>
                </div>
            </div>
        </div>-->

        <!--         <div class="row justify-content-center filters mb-3 ">
            <div class="col-md-12 pl-3 pr-3 table-responsive responsive-table  ">
                <table class="table table-sm table-hover">
                    <tfoot>
                        <tr style="width: 100%;">
                            <td style="width: 4%;"></td>
                            <td style="width: 8%;" class="text-left">
                                TOTAL REGISTROS
                            </td>
                            <td style="width: 8%;" class="text-left">
                                {{totalRegistro}}
                            </td>
                            <td style="width: 8%;" class="text-right">
                                CAMBIOS APLICADOS
                            </td>
                            <td style="width: 8%;" class="text-left">
                                {{cambioAplicados}}
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="col-md-4"></div>
        </div> -->




        <div class="row mt-3 mb-2">
            <div class="col-md-12">
                <fieldset class="border p-2 mb-2 mt-2 filters">
                    <legend class="w-auto h6">Registros Econtrados</legend>
                    <div class="row">
                        <div class="col-md-12 container container-table">
                            <div class="tab_container ">
                                <div class="form-group table-responsive responsive-table" style="max-height: 500px;overflow-y: scroll;">
                                    <table class="table no-footer table-hover">
                                        <thead class="thead-dark" style="width: 100%;">
                                            <tr>
                                                <th style="width: 6%;">Id</th>
                                                <th style="width: 12%;">Ruc</th>
                                                <th style="width: 42%;">Clientes</th>
                                                <th style="width: 14%;">Grupo</th>
                                                <th style="width: 20%;">Vendedor</th>
                                                <th style="width: 6%;">Acción</th>
                                            </tr>
                                        </thead>
                                        <tbody style="width: 100%;">
                                            <tr *ngFor="let dt of search">
                                                <td>{{ dt.id_cliente }}</td>
                                                <td class="text-left"> {{ dt.num_documento }}</td>
                                                <td class="text-left">{{ dt.nombre_comercial_cli }}</td>
                                                <td>{{dt.name_ref}}</td>
                                                <td>
                                                    <ng-select class="form-control custom" appendTo="body" [searchable]="true" [clearable]="true" [(ngModel)]="dt.id_usuario" (ngModelChange)="getNameBank($event)">
                                                        <ng-option *ngFor="let d of vendedores" [value]="d.id_usuario">
                                                            {{ d.nombre }}
                                                        </ng-option>
                                                    </ng-select>
                                                </td>
                                                <td>
                                                    <button class="btn btn-success" (click)="SaveAsignacion(dt)" matTooltip="GUARDAR ASIGNACION"> <span><i class="far fa-save" style="font-size:13px;"></i></span></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="row mt-3 mb-2" *ngIf="search.length != 0">
            <div class="col-md-12 ">
                <table class="table table-sm table-hover">
                    <tfoot>
                        <tr>
                            <td style="width: 10%;"></td>
                            <td style="width: 45%;">TOTAL REGISTROS
                                <span>{{totalRegistro}}</span>
                            </td>
                            <td style="width: 45%;"> CAMBIOS APLICADOS
                                <span>{{cambioAplicados}}</span>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </app-button-radio-active>
</div>
<cc-spiner-procesar [ltexto]="mensajeSppiner" lfulScren=true lTipo="spAsigCliente"></cc-spiner-procesar>