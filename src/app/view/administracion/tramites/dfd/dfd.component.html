
        

  <!-- filtroBoton="btnsRenLiqGenValor" [groupButton]="vmButtons" (onMetodoGlobal)="metodoGlobal($event)" -->

  <app-button-radio-active-new titulo="Tarea" cstyle="bg-gradient-primary text-white" icono="fas fa-tasks" filtroBoton="btnsTramite" [groupButton]="vmButtons" (onMetodoGlobal)="metodoGlobal($event)">

    <div class="row m-0">

      
      <div class="col-12 col-md-6 pt-0 pb-0">
        <fieldset class="border card-fieldset">
          <legend class="w-auto card-legend">Agregar Tarea</legend>

          <div class="col-12 col-md-12 pt-0 pb-0">
            <app-cc-input-group-prepend label="Tipo de trámite" styleSpan="size-span-campo font-weight-bold">

              <ng-select class="form-control custom" appendTo="body" [searchable]="true"
                [(ngModel)]="tarea.tipo" >
                <ng-option  [value]= "0" disabled>Escoja el tipo de trámite</ng-option>
                <ng-option  [value]="'I'">Interno</ng-option>
                <ng-option  [value]="'E'">Externo</ng-option>
              </ng-select>
  
            </app-cc-input-group-prepend>
            <app-cc-input-group-prepend label="Tareas" styleSpan="size-span-campo font-weight-bold">
  
              <input class="form-control" type="text" placeholder="Ingrese la tarea" maxlength="200" [(ngModel)]="tarea.nombre"/>
  
            </app-cc-input-group-prepend>
  
            <app-cc-input-group-prepend label="Descripción" styleSpan="size-span-campo font-weight-bold">
  
              <textarea class="form-control" [(ngModel)]="tarea.descripcion" maxlength="500" placeholder="Escriba... "> </textarea>
  
            </app-cc-input-group-prepend>
  
            <app-cc-input-group-prepend label="Prioridad" styleSpan="size-span-campo font-weight-bold">
  
              <ng-select class="form-control custom" appendTo="body" [searchable]="true"
                [(ngModel)]="tarea.prioridad" >
                <ng-option  [value]= "0" disabled>Escoja la prioridad</ng-option>
                <ng-option  [value]="'A'">Alta</ng-option>
                <ng-option  [value]="'M'">Media</ng-option>
                <ng-option  [value]="'B'">Baja</ng-option>
              </ng-select>
  
            </app-cc-input-group-prepend>
            <app-cc-input-group-prepend label="Días Totales" styleSpan="size-span-campo font-weight-bold">
  
              <input class="form-control" type="number" placeholder="Ingrese los días totales"  [(ngModel)]="tarea.dias_totales"/>
  
            </app-cc-input-group-prepend>

          </div>

        </fieldset>


      </div>
 
    



    <div class="col-12 col-md-6 pt-0 pb-0">        
        

      <fieldset class="border card-fieldset">
        <legend class="w-auto card-legend">Usuarios</legend>
        <div class="d-flex justify-content-between">

          <div class="col-12 col-md-12 pt-0 pb-0">  
            <app-cc-input-group-prepend label="Usuarios:" styleSpan="size-span-campo font-weight-bold">
          
              <ng-select class="form-control custom" appendTo="body" [searchable]="true" [(ngModel)]="selectUser" (change)="userSelected($event)">
                <!-- <ng-option [value]="0">Selecciones el usuario</ng-option> -->
                <ng-option *ngFor="let user of usuariospre" [value]="user">{{user.nombre}}</ng-option>
              </ng-select> 
            
            </app-cc-input-group-prepend>
            <button class="btn btn-success btn-sm " [disabled]="disabled" ngbTooltip="Agregar Usuarios" (click)="modalAgregarUsuarios()"><i
              class="fas fa-plus"></i></button>
          </div>
          

        </div>


        
        <div class="table-responsive">
          <table class="table table-striped table-bordered table-k table-hover" >
            <thead class="sticky-header">
                <tr class="text-center">
                <th>Usuario</th>
                <th>Acción</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngIf="!usuarios.length">
                <td colspan="8" class="text-center">
                  <h6>No hay Usuario colocados</h6>
                </td>
              </tr>
              <tr *ngFor="let user of usuarios; let i = index" style="cursor: pointer;">
                <td> {{ user.nombre }} </td>
                <td class="text-center"> 
                  <div>
                    <button class="btn btn-danger btn-sm" (click)="eliminarUsuario(user, i)"><i class="fas fa-trash-alt"></i></button>
                  </div>
                </td>

              </tr>
            </tbody>
          </table>

        </div>

      </fieldset>
      
        

      

    </div>


  </div>

 
      <!-- <fieldset class="border card-fieldset">
        <legend class="w-auto card-legend">Tarea</legend>

     

        <div class="row m-0">
          <div class="col-6 mr-0">
            <app-cc-input-group-prepend label="Tipo de trámite" styleSpan="size-span-campo font-weight-bold">
  
              <ng-select class="form-control custom" appendTo="body" [searchable]="true"
                [(ngModel)]="tarea.tipo" >
                <ng-option  [value]= "0" disabled>Escoja el tipo de trámite</ng-option>
                <ng-option  [value]="'I'">Interno</ng-option>
                <ng-option  [value]="'E'">Externo</ng-option>
              </ng-select>
  
            </app-cc-input-group-prepend>
            <app-cc-input-group-prepend label="Tareas" styleSpan="size-span-campo font-weight-bold">
  
              <input class="form-control" type="text" placeholder="Ingrese la tarea" maxlength="200" [(ngModel)]="tarea.nombre"/>
  
            </app-cc-input-group-prepend>
  
            <app-cc-input-group-prepend label="Descripción" styleSpan="size-span-campo font-weight-bold">
  
              <textarea class="form-control" [(ngModel)]="tarea.descripcion" maxlength="500" placeholder="Escriba... "> </textarea>
  
            </app-cc-input-group-prepend>
  
            <app-cc-input-group-prepend label="Prioridad" styleSpan="size-span-campo font-weight-bold">
  
              <ng-select class="form-control custom" appendTo="body" [searchable]="true"
                [(ngModel)]="tarea.prioridad" >
                <ng-option  [value]= "0" disabled>Escoja la prioridad</ng-option>
                <ng-option  [value]="'A'">Alta</ng-option>
                <ng-option  [value]="'M'">Media</ng-option>
                <ng-option  [value]="'B'">Baja</ng-option>
              </ng-select>
  
            </app-cc-input-group-prepend>
            <app-cc-input-group-prepend label="Días Totales" styleSpan="size-span-campo font-weight-bold">
  
              <input class="form-control" type="number" placeholder="Ingrese los días totales"  [(ngModel)]="tarea.dias_totales"/>
  
            </app-cc-input-group-prepend>
  
          </div>
    

        </div>

        <div class="row m-0">
          <div class="col-6">         
              

            <fieldset class="border card-fieldset">
              <legend class="w-auto card-legend">Usuarios</legend>
              <div class="d-flex justify-content-between">

                <div class="col-6">
                  <app-cc-input-group-prepend label="Usuarios" styleSpan="size-span-otro font-weight-bold">
                
                    <ng-select class="form-control custom" appendTo="body" [searchable]="true" [(ngModel)]="selectUser" (change)="userSelected($event)">
                     
                      <ng-option *ngFor="let user of usuariospre" [value]="user">{{user.nombre}}</ng-option>
                    </ng-select> 
                  
                  </app-cc-input-group-prepend>

                </div>
                
                <button class="btn btn-success btn-sm " [disabled]="disabled" ngbTooltip="Agregar Usuarios" (click)="modalAgregarUsuarios()"><i
                class="fas fa-plus"></i></button>
              </div>
              <div>
                <table class="table table-hover mt-2" style="max-height: 300px;" id="tablaLocales">
                  <thead class="thead-dark">
                    <tr>
                      <th>Usuario</th>
                      <th>Acción</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngIf="!usuarios.length">
                      <td colspan="8" class="text-center">
                        <h6>No hay Usuario colocados</h6>
                      </td>
                    </tr>
                    <tr *ngFor="let user of usuarios; let i = index" style="cursor: pointer;">
                      <td> {{ user.nombre }} </td>
                      <td> 
                        <div>
                          <button class="btn btn-danger btn-sm" (click)="eliminarUsuario(user, i)"><i class="fas fa-trash-alt"></i></button>
                        </div>
                      </td>
  
                    </tr>
                  </tbody>
                </table>
  
              </div>
  
            </fieldset>
            
              
    
            
  
          </div>

        </div>
       
   

      </fieldset> -->
      

    
   
     

    

    <!-- <button (click)="agregarCanvas()">Agregar Canvas Adicional</button>
    <button (click)="guardarDatos()">guardar</button> -->
    <div style="display: flex; justify-content: center;">  
      <div #mainContainer style="position: relative; width: 800px; height: 1700px; background-color: #f0f0f0;">
        <canvas #canvas style="position: absolute; width: 100%; height: 100%;"></canvas>
        <!-- <div #diagramContainer style="position: absolute; width: 100%; height: 100%;"></div> -->
        <div #diagramContainer style="position: absolute; width: 100%; height: 1700px;"></div>
      </div> 
    </div>
  </app-button-radio-active-new>



<cc-spiner-procesar style="z-index: 2000;" [ltexto]="mensajeSpinner" lfulScren=true lTipo="spAranceles"></cc-spiner-procesar>  