<link rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<app-button-radio-active-new [titulo]="fTitle" cstyle="bg-light text-dark" icono="fas fa-money-check-edit-alt" filtroBoton="btnsRenLiqCobro" [groupButton]="vmButtons" (onMetodoGlobal)="metodoGlobal($event)">
    <div class="row">
        <div class="col-12">
            <fieldset class="border card-fieldset">
                <legend class="w-auto card-legend">Datos Orden de Pago</legend>
                <div class="row m-0">
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Tipo de Orden" styleSpan="size-span-campo font-weight-bold">
                            <ng-select id="tipo" class="form-control form-control-sm"  (change)="tipoSelected($event)" [(ngModel)]="documento.tipo" maxlength="5" [disabled]="formReadOnly">
                                <ng-option disabled [value]="0">Seleccione un tipo</ng-option>
                                <ng-option *ngFor="let op of tipoOrden" [value]="op.valor">
                                    {{ op.descripcion }}</ng-option>
                            </ng-select>            
                        </app-cc-input-group-prepend>
                    </div>
                    <div *ngIf="cajaVL" class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Caja Chica/ViÃ¡ticos" styleSpan="size-span-campo font-weight-bold">
                            <input class="form-control " [(ngModel)]="documento.cajaChicaName" readonly/>
                            <button class="btn btn-success btn-sm" (click)="searchCaja()">Buscar</button>           
                        </app-cc-input-group-prepend>
                    </div>
                    <div *ngIf="!cajaVL" class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Proveedores" styleSpan="size-span-campo font-weight-bold">
                            <input type="text" class="form-control form-control-sm" disabled placeholder="Seleccione un Proveedor" (click)="expandListProveedores()" [value]="proveedorActive.razon_social">
                            <button [disabled]="formReadOnly" class="btn btn-action btn-sm" (click)="expandListProveedores()" placement="bottom" ngbTooltip="Buscar Proveedor">
                                <i class="fas fa-search"></i>
                            </button>        
                        </app-cc-input-group-prepend>
                    </div>
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Estado" styleSpan="size-span-campo font-weight-bold">
                            <div class="form-control form-control-sm" style="background-color: #E4E6EA;">
                                <i placement="bottom" [ngbTooltip]="(documento.estado == 'P') ? 'Pendiente' : (documento.estado == 'E') ? 'Emitido' : (documento.estado == 'X') ? 'Anulado': ((documento.estado == 'A') ? 'Aprobado' : 'Cerrado')" [class]="(documento.estado == 'P') ? 'fas fa-circle text-muted' : (documento.estado == 'E') ? 'fas fa-circle text-warning' : (documento.estado == 'A') ? 'fas fa-circle text-success': (documento.estado == 'X') ? 'fas fa-circle text-danger'  : ((documento.estado == 'N') ? 'fas fa-circle text-danger' :  'fas fa-circle text-muted')">
                                </i>
                                {{ (documento.estado == 'P') ? 'Pendiente' : (documento.estado == 'E') ? 'Emitido' :
                                (documento.estado == 'A') ? 'Aprobado' : (documento.estado == 'X') ? 'Anulado': ((documento.estado == 'N') ? 'Negado' : 'Cerrado') }}
                            </div>       
                        </app-cc-input-group-prepend>
                    </div>
                </div>
                <div class="row m-0">
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="No. Documento" styleSpan="size-span-campo font-weight-bold">
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.documento" placeholder="No. Documento">
                        </app-cc-input-group-prepend>
                    </div>
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="No." styleSpan="size-span-campo font-weight-bold">
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.id_documento" placeholder="No.">
                        </app-cc-input-group-prepend>
                    </div>
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Fecha" styleSpan="size-span-campo font-weight-bold">
                            <input type="date" class="form-control form-control-sm" [(ngModel)]="documento.fecha">
                        </app-cc-input-group-prepend>
                    </div>
                </div>
                <div [hidden]="procesoCompra" class="row m-0">
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">No.
                                    Proceso</span></div>
                            <input type="text" class="form-control form-control-sm"  readonly [(ngModel)]="documento.nro_proceso" maxlength="20" placeholder="No. Proceso">
                            <button [disabled]="formReadOnly"  class="btn btn-action btn-sm" ngbTooltip="Buscar solicitudes" (click)="modalSolicitud()"><i class="fas fa-search"></i> Buscar</button>
                        </div>
                    </div>
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">Nombre
                                    Proceso</span></div>
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.nombre_proceso" maxlength="200" placeholder="Nombre Proceso">
                        </div>
                    </div>
                </div>
                <div [hidden]="procesoCompra" class="row m-0">
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <app-cc-input-group-prepend label="Monto Proceso" styleSpan="size-span-campo font-weight-bold">
                            <input currencyMask readonly [ngModel]="documento.monto_proceso" class="form-control">
                        </app-cc-input-group-prepend>
                    </div>
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <app-cc-input-group-prepend label="Monto Aprobado" styleSpan="size-span-campo font-weight-bold">
                            <input currencyMask readonly [ngModel]="documento.total_aprobado" class="form-control">
                        </app-cc-input-group-prepend>
                    </div>
                </div>
                <div [hidden]="procesoCompra" class="row m-0">
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo" >No. P&oacute;liza</span></div>
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.nro_poliza" maxlength="20" placeholder="No. P&oacute;liza">
                        </div>
                    </div>
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">Vigencia P&oacute;liza</span></div>
                            <input type="date" class="form-control form-control-sm" readonly [(ngModel)]="documento.vigencia_poliza" placeholder="Vigencia P&oacute;liza">
                        </div>
                    </div>
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo" >IDP</span></div>
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.idp" maxlength="20" placeholder="IDP">
                        </div>
                    </div>
                </div>
                <div [hidden]="procesoCat || procesoInf" class="row m-0">
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">No.
                                    Proceso</span></div>
                            <input type="text" class="form-control form-control-sm"  readonly [(ngModel)]="documento.nro_proceso" maxlength="20" placeholder="No. Proceso">
                            <button [disabled]="formReadOnly"  class="btn btn-action btn-sm" ngbTooltip="Buscar solicitudes" (click)="modalSolicitud()"><i class="fas fa-search"></i> Buscar</button>
                        </div>
                    </div>
                    <div class="col-12 col-md-4 pt-1 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">Nombre
                                    Proceso</span></div>
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.nombre_proceso" maxlength="200" placeholder="Nombre Proceso">
                        </div>
                    </div>
                </div>
                <div [hidden]="procesoCat || procesoInf" class="row m-0">
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Monto Proceso" styleSpan="size-span-campo font-weight-bold">
                            <input currencyMask readonly [ngModel]="documento.monto_proceso" class="form-control">
                        </app-cc-input-group-prepend>
                    </div>
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Monto Aprobado" styleSpan="size-span-campo font-weight-bold">
                            <input currencyMask readonly [ngModel]="documento.total_aprobado" class="form-control">
                        </app-cc-input-group-prepend>
                    </div>
                </div>
                <div [hidden]="procesoCat || procesoInf" class="row m-0">
                    <div class="col-12 col-md-4 pt-0 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo" style="width: 155px;">IDP</span></div>
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.idp" maxlength="20" placeholder="IDP">
                        </div>
                    </div>
                    <div *ngIf="documento.tipo == 'CAT'" class="col-12 col-md-4 pt-0 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo" style="width: 155px;">No. Orden</span></div>
                            <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.num_orden" maxlength="20" placeholder="No. Orden">
                        </div>
                    </div>
                    <div *ngIf="documento.tipo == 'CAT'" class="col-12 col-md-4 pt-0 pb-0">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo" style="width: 155px;">Valor Orden</span></div>
                            <input currencyMask class="form-control form-control-sm" readonly [(ngModel)]="documento.valor_orden">
                        </div>
                    </div>
                </div>
                <div [hidden]="!procesoUnaFactura" class="row m-0">
                    <div class="col-12 col-md-6 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Codigo cuenta contable" styleSpan="size-span-campo font-weight-bold">
                            <input class="form-control" [(ngModel)]="grupo.codigo_cuenta_contable" type="text" readonly/>
                            <button class="btn btn-action btn-sm" (click)="modalCuentaContable()" [disabled]="validacion || formReadOnly || cuentaDisabled" > Consultar</button>
                        </app-cc-input-group-prepend>
                    </div>

                    <div class="col-12 col-md-6 pt-0 pb-0">
                        <app-cc-input-group-prepend label="Nombre cuenta contable" styleSpan="size-span-campo font-weight-bold">
                            <input class="form-control" [(ngModel)]="grupo.descripcion_cuenta" type="text" readonly/>
                            
                        </app-cc-input-group-prepend>
                    </div>
                </div>
                <div class="row  m-0">
                    <div  class="col-12 col-md-6 pt-0 pb-0" *ngIf="!procesoUnaFactura || !procesoCompra">
                        <app-cc-input-group-prepend label="Cuenta Bancaria" styleSpan="size-span-campo font-weight-bold">
                            <ng-select class="form-control custom" appendTo="body" [searchable]="true"
                                [(ngModel)]="cuenta" [disabled]="formValid">
                                <ng-option [value]="0" disabled>Chosee.. </ng-option>
                                <ng-option *ngFor="let item of listaCuentas"
                                    [value]="item">{{item.name_banks + ' ' + item.num_cuenta }}</ng-option>
                            </ng-select>
                        </app-cc-input-group-prepend>
                    </div>
                    <div  class="col-12 col-md-6 pt-0 pb-0"*ngIf="changeBeneficiario && this.documento.tipo =='PF'">
                        <app-cc-input-group-prepend label="Beneficiario" styleSpan="size-span-campo font-weight-bold">
                            <input type="text" class="form-control form-control-sm" disabled placeholder="Seleccione un Beneficiario" (click)="expandListProveedores()" [value]="beneficiarioActive.razon_social">
                            <button [disabled]="formReadOnly" class="btn btn-action btn-sm" (click)="expandListBeneficiarios()" placement="bottom" ngbTooltip="Buscar Beneficiario">
                                <i class="fas fa-search"></i>
                            </button>        
                        </app-cc-input-group-prepend>
                    </div>
                </div>
               
                <div class="row m-0">
                    <div class="col-12 col-md-2 pt-0 pb-0">
                        <!-- <app-cc-input-group-prepend label="Tiene divisas" styleSpan="size-span-campo">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" [(ngModel)]="documento.tiene_divisas" (ngModelChange)="openDivisas($event)" [disabled]="formReadOnly">
                                </div>
                            </div>
                        </app-cc-input-group-prepend> -->
                        <div class="form-check">
                            <input class="form-check-input" id="flexCheckDefault" type="checkbox" [(ngModel)]="documento.tiene_divisas" (ngModelChange)="openDivisas($event)" [disabled]="formReadOnly"/>
                            <label class="form-check-label" for="flexCheckDefault">
                            <h6>Tiene divisas</h6>
                            </label>
                        </div>
                    </div>
                    <div *ngIf="this.documento.tipo =='PF'"class="col-12 col-md-2 pt-0 pb-0">
                        <!-- <app-cc-input-group-prepend label="Tiene Beneficiario" styleSpan="size-span-campo font-weight-bold">
                            <div class="input-group-prepend">
                                <div class="input-group-text"><input type="checkbox" [(ngModel)]="documento.tiene_beneficiario"></div>
                            </div>
                        </app-cc-input-group-prepend> -->
                        <div class="form-check">
                            <input class="form-check-input"  type="checkbox" [(ngModel)]="documento.tiene_beneficiario" (change)="openBeneficiario($event)" [disabled]="formReadOnly"/>
                            <label class="form-check-label">
                            <h6>Tiene Beneficiario</h6>
                            </label>
                        </div>
                    </div>
                    
                </div>
                
                <div *ngIf="changeDivisas">

                    <fieldset class="border card-fieldset">
                        <legend class="w-auto card-legend">Cambio de divisas</legend>
                        <div class="row m-0">
                            <div class="col-12 col-md-4 pt-0 pb-0">
                                <app-cc-input-group-prepend label="Escoger Moneda" styleSpan="size-span-campo font-weight-bold">
                                    <ng-select class="form-control form-control-sm" [(ngModel)]="documento.moneda_divisas">
                                        <ng-option [value]="0" disabled>Escoger una moneda... </ng-option>
                                        <ng-option *ngFor="let item of catalog" [value]="item.valor">{{item.valor}}</ng-option>
                                    </ng-select>
                                </app-cc-input-group-prepend>
                            </div>
                            <div class="col-12 col-md-4 pt-0 pb-0">
                                <app-cc-input-group-prepend label="Ingresar tipo de cambio" styleSpan="size-span-campo font-weight-bold">
                                    <input currencyMask onclick="this.select()" class="form-control" [(ngModel)]="documento.tipo_cambio" [disabled]="cambioVal"/>
                                </app-cc-input-group-prepend>
                            </div>
                            <div class="col-12 col-md-4 pt-0 pb-0">
                                <button class="btn btn-success btn-sm mr-1" (click)="cambioDeDivisas()" [disabled]="cambioVal">Ingresar</button>
                                <button class="btn btn-danger btn-sm" (click)="regresarDeDivisas()" *ngIf="botonRegresa">Regresar</button>
                            </div>
                        </div>
                        <div class="row m-0" *ngIf="cambioMoneda">
                            <div class="col-12 col-md-4 pt-0 pb-0">
                                <app-cc-input-group-prepend label="Valor en {{documento.moneda_divisas}}" styleSpan="size-span-campo font-weight-bold">
                                    <input type="number" class="form-control" [(ngModel)]="documento.valor_divisa" (ngModelChange)="cambioDivisas($event)"/>
                                </app-cc-input-group-prepend>
                            </div>
                            <div class="mr-2 ml-2 justify-content-center">
                                <i class="fas fa-arrow-right text-success"></i>
                            </div>
                            <div class="col-12 col-md-4 pt-0 pb-0">
                                <app-cc-input-group-prepend label="Valor en dolares" styleSpan="size-span-campo font-weight-bold">
                                    <input class="form-control" value="$ {{documento.valor_dolares | number: '1.2-6'}}"  readonly/>
                                </app-cc-input-group-prepend>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <section [hidden]="procesoConceptos">
                    <div class="row m-0 align-items-center">
                        <div class="col-12 col-md-12 pt-3 pb-3">
                            <h5 class="mb-0 text-dark">Conceptos</h5>
                        </div>
                    </div>
                    <div class="row m-0">
                        <div class="col-12 col-md-4 pt-0 pb-0">
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend"><span class="input-group-text size-span-campo" style="width:120px;">Conceptos</span></div>
                                <ng-select [disabled]="formReadOnly || titulosDisabled" class="form-control" [(ngModel)]="formaPago" [clearable]="false" (click)="selectConcepto()">
                                    <ng-option [value]="0" disabled>Seleccione un concepto</ng-option>
                                    <ng-option *ngFor="let op of conceptos" [value]="op.valor">{{ op.descripcion }}</ng-option>
                                </ng-select>
                                <div class="col-1"></div>
                                <button [disabled]="formReadOnly || addConcepto" class="btn btn-sm btn-success" ngbTooltip="Agregar conceptos" (click)="agregaConceptos()"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="row m-0 pt-3 pb-3">
                        <div class="col-12 col-md-12 pt-0 pb-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-k table-hover">
                                    <thead>
                                        <tr class="text-center">
                                            <th style="width: 15%;">Concepto</th>
                                            <th style="width: 30%;">DescripciÃ³n</th>
                                            <th style="width: 10%;">CÃ³digo Cuenta</th>
                                            <th style="width: 15%;">DescripciÃ³n Cuenta</th>
                                            <th class="text-right" style="width: 15%;">Valor</th>
                                            <th style="width: 15%;">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="pagos.length == 0">
                                            <td colspan="6" class="text-center">
                                                <h6 class="my-1">No hay conceptos</h6>
                                            </td>
                                        </tr>
                                        <ng-container *ngFor="let d of pagos, let i = index">
                                            <tr>
                                                <td class="text-center">{{ d.descripcion }}</td>
                                                <td class="text-center">
                                                    <div class="input-group input-group-sm">
                
                                                        <textarea  type="text" maxlength="200" class="form-control form-control-sm" [disabled]="titulosDisabled || formReadOnly" [(ngModel)]="d.comentario">{{ d.comentario }}</textarea>
                                                    </div>
                                                </td>
                                                <td class="text-center">{{ d.codigo_cuenta }}</td>
                                                <td class="text-center">{{ d.descripcion_cuenta }}</td>
                                                <td class="text-right">
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold">$</span></div>
                                                        <input currencyMask maxlength="8" class="form-control form-control-sm text-right" [disabled]="titulosDisabled || formReadOnly" [(ngModel)]="d.valor" (keypress)="onlyNumberDot($event)" (keyup)="sumar(d)">
                                                    </div>
                                                </td>
                                                <td class="text-center">
                                                    <button class="btn btn-sm btn-danger" placement="left" ngbTooltip="Removerconcepto" [disabled]="titulosDisabled || formReadOnly" (click)="removeFormaPago(i)"><i class="far fa-trash-alt"></i></button>
                                                </td>
                                            </tr>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- <section [hidden]="procesoCompra">
                    

                    <nav class="card-k p-2 mb-2 mt-1">
                        <div class="nav nav-tabs border-0" id="nav-tab" role="tablist">
                            <a class="tab-label nav-link active" id="nav-condiciones-tab" data-toggle="tab" href="#nav-condiciones" role="tab"
                                aria-controls="nav-condiciones" aria-selected="true">Condiciones</a>
                            <a class="tab-label nav-link" id="nav-asiento-tab" data-toggle="tab" href="#nav-asiento" role="tab"
                                aria-controls="nav-asiento" aria-selected="false">Asiento</a>
                        </div>
                    </nav>
                    <div class="tab-content mb-3" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-condiciones" role="tabpanel" aria-labelledby="nav-condiciones-tab">
                             <div class="row m-0 mt-3 mb-1 align-items-center">
                                <div class="col-12 col-md-12 pt-0 pb-0">
                                    <h5 class="mb-0 text-dark">Condiciones</h5>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col-12 col-md- pt-0 pb-0">
                                    <div class="input-group input-group-sm">
                                        <div class="input-group-prepend ml-2"><span class="input-group-text size-span-campo" >Condiciones</span></div>
                                        <ng-select [disabled]="formReadOnly || titulosDisabled || condicionDisabled" class="form-control" [(ngModel)]="condicionesPago" [clearable]="false" (click)="selectCondicion()">
                                            <ng-option [value]="0" disabled>Seleccione una CondiciÃ³n</ng-option>
                                            <ng-option *ngFor="let op of condiciones" [value]="op.condicion"><span class="font-weight-bold">DescripciÃ³n:</span> {{ op.condicion }} | <span class="font-weight-bold">Fecha Max. Pago:</span> {{ op.plazo }} | <span class="font-weight-bold">Valor:</span> $ {{ op.valor !=null ? (op.valor | number: '1.2-2') : '' }}</ng-option>
                                        </ng-select>
                                        <div class="col-1"></div>
                                        <button [disabled]="formReadOnly || addCondicion" class="btn btn-sm btn-success" ngbTooltip="Agregar condiciones" (click)="agregaCondiciones()"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-k table-hover">
                                            <thead>
                                                <tr class="text-center">
                                                    <th style="width: 35%;">Condicion</th>
                                                    <th style="width: 30%;">DescripciÃ³n</th>
                                                    <th style="width: 10%;">CÃ³digo Cuenta</th>
                                                    <th style="width: 10%;">DescripciÃ³n Cuenta</th>
                                                    <th class="text-right" style="width: 15%;">Valor</th>
                                                    <th style="width: 10%;">Acciones</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="pagosCondicion.length == 0">
                                                    <td colspan="6" class="text-center">
                                                        <h6 class="my-1">No hay condiciones</h6>
                                                    </td>
                                                </tr>
                                                <ng-container *ngFor="let d of pagosCondicion, let i = index">
                                                    <tr>
                                                        <td class="text-center text-justify text-break">{{ d.descripcion }}</td>
                                                        <td class="text-center">
                                                            <div class="input-group input-group-sm">
                        
                                                                <textarea  type="text" maxlength="200" class="form-control form-control-sm" [disabled]="titulosDisabled || formReadOnly" [(ngModel)]="d.comentario">{{ d.comentario }}</textarea>
                                                            </div>
                                                        </td>
                                                        <td class="text-center">{{ d.codigo_cuenta }}</td>
                                                        <td class="text-center">{{ d.descripcion_cuenta }}</td>
                                                        <td class="text-right">
                                                            <div class="input-group input-group-sm">
                                                                <div class="input-group-prepend"><span class="input-group-text font-weight-bold">$</span></div>
                                                                <input currencyMask maxlength="8" class="form-control form-control-sm text-right" [disabled]="titulosDisabled || formReadOnly" [(ngModel)]="d.valor" (keypress)="onlyNumberDot($event)" (keyup)="sumar(d)">
                                                            </div>
                                                        </td>
                                                        <td class="text-center">
                                                            <button class="btn btn-sm btn-danger" placement="left" ngbTooltip="Removerconcepto" [disabled]="titulosDisabled || formReadOnly" (click)="removeCondicion(i)"><i class="far fa-trash-alt"></i></button>
                                                        </td>
                                                    </tr>
                                                </ng-container>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                
                        <div class="tab-pane fade" id="nav-asiento" role="tabpanel" aria-labelledby="nav-asiento-tab">
                    
                            <div class="row" >
                                <h4 class="ml-2"> {{asientoCabname}}</h4>
                                <div class="col">
                                <button  class="btn btn-sm btn-success float-right" matTooltip="Imprimir Asiento"
                                    (click)="imprimirAsiento()">
                                    <i class="fas fa-file-pdf"></i> Impirmir Asiento
                                </button>
                                </div>
                            </div>
                            <div class="justify-content-center">
                                <div class="table-responsive" style="max-height: 600px; overflow-y: scroll;">
                                    <table class="table table-striped table-k table-hover" style="min-width: 1800px;">
                                        <thead>
                                            <tr class="text-center">
                                                <th style="width: 150px;">Fecha</th>
                                                <th style="width: 150px;">Cuenta</th>
                                                <th style="width: 200px;">Nombre</th>
                                                <th style="width: 80px;">A S</th>
                                                <th style="width: 80px;">T M</th>
                                                <th style="width: 120px;">DÃ©bito</th>
                                                <th style="width: 120px;">CrÃ©dito</th>
                                                <th style="width: 180px;">CÃ³digo partida</th>
                                                <th style="width: 250px">Partida presupuestaria</th>
                                                <th style="width: 250px">CÃ³digo Partida ICP</th>
                                                <th style="width: 150px;">Valor</th>
                                                <th style="width: 100px;">Tipo Presupuesto</th>
                                                <th style="width: 100px;">Tipo AfectaciÃ³n</th>
                                                <th style="width: 100px;">Devengado</th>
                                                <th style="width: 100px;">Cobrado/Pagado</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngIf="asiento.length == 0">
                                                <td colspan="14" class="text-center">
                                                    <h6 class="my-1"></h6>No hay asiento para mostrar.
                                                </td>
                                            </tr>
                                            <ng-container *ngFor="let f of asiento; let i = index">
                                                <tr >
                                                    <td *ngIf="f.tipo != 'T'">{{ f.fecha | date:'dd/MM/yyyy'}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.account}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.name}}</td>
                                                    <td *ngIf="f.tipo != 'T'"></td>
                                                    <td *ngIf="f.tipo != 'T'"></td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right"> {{ (f.debit == 0 || f.debit == null) ? '-'  : '$'+ (f.debit | number:'1.2-2')}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right"> {{ (f.credit == 0 || f.credit == null) ? '-' :  '$'+ (f.credit | number:'1.2-2')}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.codpresupuesto}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.presupuesto}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{f.codigopartida}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right">$ {{ f.valor_presupuesto | number:'1.2-2'}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.tipo_presupuesto}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.tipo_afectacion}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right">$ {{ (f.devengado != null) ? (f.devengado | number:'1.2-2') : '0.00'}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right">$ {{ (f.cobrado_pagado != null) ? (f.cobrado_pagado | number:'1.2-2') : '0.00'}}</td>
                                                </tr>
                                            </ng-container>
                                            <tr *ngFor="let g of totalAsiento; let i = index">
                                                <td class="text-right font-weight-bold" colspan="5"></td>
                                                <td class="text-right" [ngClass]="{'TotalizadoTablaScroll': g.tipo == 'T'} ">$ {{ g.debit | number:'1.2-2' }}</td>
                                                <td class="text-right" [ngClass]="{'TotalizadoTablaScroll': g.tipo == 'T'} ">$ {{ g.credit | number:'1.2-2' }}</td>
                                                <td class="text-right font-weight-bold" colspan="7"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </section> -->
                <section [hidden]="procesoFacturas">
                    <div class="row mt-3 mb-1 align-items-center">
                        <div class="col">
                            <h5 class="mb-0 text-dark">Facturas</h5>
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col">
                            <div class="table-responsive">
                                <table class="table table-striped table-k table-hover">
                                    <thead>
                                        <tr class="text-center">
                                            <th [hidden]="checkDisabled" style="width: 10%;"><input [hidden]="checkDisabled" type="checkbox" [(ngModel)]="masterSelected" (change)="selectAll()"></th>
                                            <th style="width: 30%;">No. Doc</th>
                                            <th style="width: 10%;">Fecha Compra</th>
                                            <th style="width: 10%;">Valor IVA</th>
                                            <th style="width: 10%;">Subtotal</th>
                                            <th class="width: 10%;">Total</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="facturas.length == 0">
                                            <td colspan="7" class="text-center">
                                                <h6 class="my-1">No hay facturas que mostrar</h6>
                                            </td>
                                        </tr>
                                        <ng-container *ngFor="let d of facturas, let i = index">
                                            <tr>
                                                <td [hidden]="checkDisabled" class="text-center">
                                                    <input [hidden]="checkDisabled" type="checkbox" [(ngModel)]="d.check" (change)="selectedCheck(i,d)" (ngModelChange)="calcCheck()">
                                                </td>
                                                <td class="text-center">{{ d.num_doc }}</td>
                                                <td class="text-center">{{ d.fecha_compra }}</td>
                                                <td class="text-center">$ {{ d.valor_iva | number: '1.2-2' }}</td>
                                                <td class="text-center">$ {{ d.subtotal | number: '1.2-2' }}</td>
                                                <td class="text-center">
                                                    <div class="input-group input-group-sm">
                                                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold">$</span></div>
                                                        <input currencyMask readonly maxlength="8" class="form-control form-control-sm text-right"  [disabled]="true" [(ngModel)]="d.total">
                                                    </div>
                                                </td>
                                            </tr>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
                <section *ngIf="!procesoUnaFactura  || !procesoCompra">
                    <!-- <nav class="card-k p-2 mb-2 mt-1">
                        <div class="nav nav-tabs border-0" id="nav-tab" role="tablist">
                            <a [hidden]="procesoUnaFactura" class="tab-label nav-link active" id="nav-ordenes-tab" data-toggle="tab" href="#nav-ordenes" role="tab"
                                aria-controls="nav-ordenes" aria-selected="true">Compras</a>
                            <a [hidden]="procesoCompra"  class="tab-label nav-link active" id="nav-condiciones-tab" data-toggle="tab" href="#nav-condiciones" role="tab"
                                aria-controls="nav-condiciones" aria-selected="true">Condiciones</a>
                            <a class="tab-label nav-link" id="nav-asiento-tab" data-toggle="tab" href="#nav-asiento" role="tab"
                                aria-controls="nav-asiento" aria-selected="false">Asiento</a>
                        </div>
                    </nav> -->
                    <nav class="p-2 my-3">
                        <div class="card-k nav-tabs_flex mb-2" id="nav-tab" role="tablist">
                          <a [hidden]="procesoUnaFactura" class=" tab-label active" id="nav-ordenes-tab" data-toggle="tab" href="#nav-ordenes"
                            role="tab" aria-controls="nav-ordenes" aria-selected="true" (click)="tabActiva = 'nav-ordenes'" [ngClass]="{'active': tabActiva === 'nav-ordenes'}" >
                            Compras
                            </a>
                          <a [hidden]="procesoCompra" class="tab-label active" id="nav-condiciones-tab" data-toggle="tab" href="#nav-condiciones"
                            role="tab" aria-controls="nav-condiciones" aria-selected="true" (click)="tabActiva = 'nav-condiciones'"  [ngClass]="{'active': tabActiva === 'nav-condiciones'}" >Condiciones</a>
                          <a class="tab-label active" id="nav-asiento-tab" data-toggle="tab" href="#nav-asiento"
                            role="tab" aria-controls="nav-asiento" aria-selected="true" (click)="tabActiva = 'nav-asiento'" [ngClass]="{'active': tabActiva === 'nav-asiento'}" >Asiento</a>
                        </div>
                    </nav>

                    <div class="tab-content mb-3" id="nav-tabContent">
                        <div class="tab-pane fade" [hidden]="procesoUnaFactura" [ngClass]="{'show active': tabActiva === 'nav-ordenes'}"  id="nav-ordenes" role="tabpanel" aria-labelledby="nav-ordenes-tab">
                            <div class="row m-0 align-items-center">
                                <div class="col-12 col-md-12 pt-0 pb-0">
                                    <h5 class="mb-0 text-dark">Compras</h5>
                                </div>
                            </div>
                            <div class="row m-0 justify-content-end">
                                <div class="col-3 col-sm-3 col-md-2 col-lg-2 col-xl-2 text-right btn-add">
                                    <button class="btn btn-success btn-sm" placement="top"
                                        ngbTooltip="Agregar Factura" (click)="expandModalCompras()"
                                        [disabled]="addCompra || formReadOnly ">
                                        <i class="fa fa-plus" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="row m-0">
                                <div class="col-12 col-md-12 pt-0 pb-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-k table-hover">
                                            <thead>
                                                <tr class="text-center">
                                                    <th style="width: 25%;">No. Doc</th>
                                                    <th style="width: 15%;">No. Proceso</th>
                                                    <th style="width: 10%;">Fecha Compra</th>
                                                    <th style="width: 10%;">Subtotal</th>
                                                    <th style="width: 10%;">Valor IVA</th>
                                                    <th style="width: 10%;">Saldo por Pagar</th>
                                                    <th style="width: 10%;">Saldo Orden Pago</th>
                                                    <th class="width: 10%;">Total</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ng-container *ngIf="pagosUnaFactura.length > 0; else emptyUnaFactura">
                                                    <tr *ngFor="let d of pagosUnaFactura, let i = index">
                                                        <td class="text-center">{{ d.num_doc }}</td>
                                                        <td class="text-center">{{ d.num_proceso }}</td>
                                                        <td class="text-center">{{ d.fecha_compra }}</td>
                                                        <td class="text-center">$ {{ d.subtotal | number:'1.2-2'}}</td>
                                                        <td class="text-center">$ {{ d.valor_iva | number:'1.2-2'}}</td>
                                                        <td class="text-center">$ {{ d.saldo | number:'1.2-2'}}</td>
                                                        <td class="text-center">$ {{ d.saldo_orden_pago | number:'1.2-2'}}</td>
                                                        <td class="text-center">
                                                            <input currencyMask class="form-control form-control-sm"  [disabled]="formReadOnly" [(ngModel)]="d.valor"  (keyup)="calcPagoTotal()" onclick="this.select()">
                                                        </td>
                                                    </tr>
                                                </ng-container>
                                                <ng-template #emptyUnaFactura>
                                                    <tr>
                                                        <td colspan="8" class="text-center">
                                                            <h6 class="my-1">No hay facturas</h6>
                                                        </td>
                                                    </tr>
                                                </ng-template>

                                                <!-- <tr *ngIf="pagosUnaFactura.length == 0">
                                                    <td colspan="8" class="text-center">
                                                        <h6 class="my-1">No hay facturas</h6>
                                                    </td>
                                                </tr>
                                                <ng-container *ngFor="let d of pagosUnaFactura, let i = index">
                                                    <tr>
                                                        <td class="text-center">{{ d.num_doc }}</td>
                                                        <td class="text-center">{{ d.num_proceso }}</td>
                                                        <td class="text-center">{{ d.fecha_compra }}</td>
                                                        <td class="text-center">$ {{ d.valor_iva | number:'1.2-2'}}</td>
                                                        <td class="text-center">$ {{ d.subtotal | number:'1.2-2'}}</td>
                                                        <td class="text-center">$ {{ d.saldo | number:'1.2-2'}}</td>
                                                        <td class="text-center">$ {{ d.saldo_orden_pago | number:'1.2-2'}}</td>
                                                        <td class="text-center">
                                                            <input currencyMask class="form-control form-control-sm"  [disabled]="formReadOnly" [(ngModel)]="d.valor"  (input)="calcPagoTotal()">
                                                        </td>
                                                    </tr>
                                                </ng-container> -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="tab-pane fade" [hidden]="procesoCompra" [ngClass]="{'show active': tabActiva === 'nav-condiciones'}" id="nav-condiciones" role="tabpanel" aria-labelledby="nav-condiciones-tab">
                            <div class="row m-0 mt-3 mb-2 align-items-center">
                               <div class="col-12 col-md-12 pt-0 pb-0">
                                   <h5 class="mb-0 text-dark">Condiciones</h5>
                               </div>
                           </div>
                           <div class="row m-0 my-2">
                               <div class="col-12 col-md- pt-0 pb-0">
                                   <div class="input-group input-group-sm">
                                       <div class="input-group-prepend ml-2"><span class="input-group-text size-span-campo" >Condiciones</span></div>
                                       <ng-select [disabled]="formReadOnly || titulosDisabled || condicionDisabled" class="form-control" [(ngModel)]="condicionesPago" [clearable]="false" (click)="selectCondicion()">
                                           <ng-option [value]="0" disabled>Seleccione una CondiciÃ³n</ng-option>
                                           <ng-option *ngFor="let op of condiciones" [value]="op.condicion"><span class="font-weight-bold">DescripciÃ³n:</span> {{ op.condicion }} | <span class="font-weight-bold">Fecha Max. Pago:</span> {{ op.plazo }} | <span class="font-weight-bold">Valor:</span> $ {{ op.valor !=null ? (op.valor | number: '1.2-2') : '' }}</ng-option>
                                       </ng-select>
                                       <div class="col-1"></div>
                                       <button [disabled]="formReadOnly || addCondicion" class="btn btn-sm btn-success" ngbTooltip="Agregar condiciones" (click)="agregaCondiciones()"><i class="fas fa-plus"></i></button>
                                   </div>
                               </div>
                           </div>
                           <div class="row m-0 mb-2">
                               <div class="col">
                                   <div class="table-responsive">
                                       <table class="table table-striped table-k table-hover">
                                           <thead>
                                               <tr class="text-center">
                                                   <th style="width: 35%;">Condicion</th>
                                                   <th style="width: 30%;">DescripciÃ³n</th>
                                                   <th style="width: 10%;">CÃ³digo Cuenta</th>
                                                   <th style="width: 10%;">DescripciÃ³n Cuenta</th>
                                                   <th class="text-right" style="width: 15%;">Valor</th>
                                                   <th style="width: 10%;">Acciones</th>
                                               </tr>
                                           </thead>
                                           <tbody>
                                               <tr *ngIf="pagosCondicion.length == 0">
                                                   <td colspan="6" class="text-center">
                                                       <h6 class="my-1">No hay condiciones</h6>
                                                   </td>
                                               </tr>
                                               <ng-container *ngFor="let d of pagosCondicion, let i = index">
                                                   <tr>
                                                       <td class="text-center text-justify text-break">{{ d.descripcion }}</td>
                                                       <td class="text-center">
                                                           <div class="input-group input-group-sm">
                       
                                                               <textarea  type="text" maxlength="200" class="form-control form-control-sm" [disabled]="titulosDisabled || formReadOnly" [(ngModel)]="d.comentario">{{ d.comentario }}</textarea>
                                                           </div>
                                                       </td>
                                                       <td class="text-center">{{ d.codigo_cuenta }}</td>
                                                       <td class="text-center">{{ d.descripcion_cuenta }}</td>
                                                       <td class="text-right">
                                                           <div class="input-group input-group-sm">
                                                               <div class="input-group-prepend"><span class="input-group-text font-weight-bold">$</span></div>
                                                               <input currencyMask maxlength="8" class="form-control form-control-sm text-right" [disabled]="titulosDisabled || formReadOnly" [(ngModel)]="d.valor" (keypress)="onlyNumberDot($event)" (keyup)="sumar(d)">
                                                           </div>
                                                       </td>
                                                       <td class="text-center">
                                                           <button class="btn btn-sm btn-danger" placement="left" ngbTooltip="Removerconcepto" [disabled]="titulosDisabled || formReadOnly" (click)="removeCondicion(i)"><i class="far fa-trash-alt"></i></button>
                                                       </td>
                                                   </tr>
                                               </ng-container>
                                           </tbody>
                                       </table>
                                   </div>
                               </div>
                           </div>
                           
                       </div>
                        <div class="tab-pane fade" [ngClass]="{'show active': tabActiva === 'nav-asiento'}" id="nav-asiento" role="tabpanel" aria-labelledby="nav-asiento-tab">
                    
                            <div class="row" >
                                <h4 class="ml-2"> {{asientoCabname}}</h4>
                                <div class="col">
                                <button *ngIf="asientoCabname" class="btn btn-sm btn-success float-right" matTooltip="Imprimir Asiento"
                                    (click)="imprimirAsiento()" >
                                    <i class="fas fa-file-pdf"></i> Impirmir Asiento
                                </button>
                                </div>
                            </div>
                            <div class="justify-content-center">
                                <div class="table-responsive" style="max-height: 600px; overflow-y: scroll;">
                                    <table class="table table-striped table-k table-hover" style="min-width: 1800px;">
                                        <thead>
                                            <tr class="text-center">
                                                <th style="width: 150px;">Fecha</th>
                                                <th style="width: 150px;">Cuenta</th>
                                                <th style="width: 200px;">Nombre</th>
                                                <th style="width: 80px;">A S</th>
                                                <th style="width: 80px;">T M</th>
                                                <th style="width: 120px;">DÃ©bito</th>
                                                <th style="width: 120px;">CrÃ©dito</th>
                                                <th style="width: 180px;">CÃ³digo partida</th>
                                                <th style="width: 250px">Partida presupuestaria</th>
                                                <th style="width: 250px">CÃ³digo Partida ICP</th>
                                                <th style="width: 150px;">Valor</th>
                                                <th style="width: 100px;">Tipo Presupuesto</th>
                                                <th style="width: 100px;">Tipo AfectaciÃ³n</th>
                                                <th style="width: 100px;">Devengado</th>
                                                <th style="width: 100px;">Cobrado/Pagado</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngIf="asiento.length == 0">
                                                <td colspan="14" class="text-center">
                                                    <h6 class="my-1"></h6>No hay asiento para mostrar.
                                                </td>
                                            </tr>
                                            <ng-container *ngFor="let f of asiento; let i = index">
                                                <tr >
                                                    <td *ngIf="f.tipo != 'T'">{{ f.fecha | date:'dd/MM/yyyy'}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.account}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.name}}</td>
                                                    <td *ngIf="f.tipo != 'T'"></td>
                                                    <td *ngIf="f.tipo != 'T'"></td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right"> {{ (f.debit == 0 || f.debit == null) ? '-'  : '$'+ (f.debit | number:'1.2-2')}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right"> {{ (f.credit == 0 || f.credit == null) ? '-' :  '$'+ (f.credit | number:'1.2-2')}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.codpresupuesto}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.presupuesto}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{f.codigopartida}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right">$ {{ f.valor_presupuesto | number:'1.2-2'}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.tipo_presupuesto}}</td>
                                                    <td *ngIf="f.tipo != 'T'">{{ f.tipo_afectacion}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right">$ {{ (f.devengado != null) ? (f.devengado | number:'1.2-2') : '0.00'}}</td>
                                                    <td *ngIf="f.tipo != 'T'" class="text-right">$ {{ (f.cobrado_pagado != null) ? (f.cobrado_pagado | number:'1.2-2') : '0.00'}}</td>
                                                </tr>
                                            </ng-container>
                                            <tr *ngFor="let g of totalAsiento; let i = index">
                                                <td class="text-right font-weight-bold" colspan="5"></td>
                                                <td class="text-right" [ngClass]="{'TotalizadoTablaScroll': g.tipo == 'T'} ">$ {{ g.debit | number:'1.2-2' }}</td>
                                                <td class="text-right" [ngClass]="{'TotalizadoTablaScroll': g.tipo == 'T'} ">$ {{ g.credit | number:'1.2-2' }}</td>
                                                <td class="text-right font-weight-bold" colspan="7"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            
                <div class="row m-0 my-2 justify-content-end">
                    <div class="col-12 col-md-5 py-0">
                        <div class="input-group input-group-lg input-group-total">
                            <div class="input-group-prepend">
                                <span class="label-saldo">Valor a pagar</span>
                            </div>
                            <input currencyMask class="form-control form-control-lg font-weight-bold" readonly
                                value="$ {{ totalPago | number: '1.2-2' }}">
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
</div>
    

    


</app-button-radio-active-new>



<cc-spiner-procesar [ltexto]="msgSpinner" lfulScren=true lTipo="renLiqAnulacion"></cc-spiner-procesar>


<!-- boton para triggerear ngx print oculto para que se active desde una funcion en ts -->
<button #printAfuera printTitle="Orden de Pago {{ documento.documento }}" printSectionId="PrintSection" ngxPrint hidden="true" [useExistingCss]="true"></button>
<button #print printTitle="Orden de Pago {{ documento.documento }}" printSectionId="PrintSection" ngxPrint hidden="true" [useExistingCss]="true"></button>

<div id="PrintSection" [hidden]="true">
    <div class="row justify-content-center prt-comprobante">

        <div class="col-11 pl-2 pr-2 ">
            <div class="row justify-content-center">
                <div class="col-md-5 text-center mt-5">
                    <div class="sect-one pt-3 pb-3">
                        <div class="row justify-content-center">
                            <div class="col-md-12 mt-4">
                                <img src="{{empresLogo}}" alt="" style="width: 200px;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-7 text-center mt-5">
                    <div class="sect-two pt-3 pb-2">
                        <div class="row justify-content-center">
                            <div class="col-md-12 mt-4" style="font-size: 20px;font-weight: bold">
                                <h3>Documento: {{ documento.documento }}</h3>
                                <h3>Fecha: {{ documento.fecha | date: 'dd/MM/yyyy' }}</h3>
                                <h3>Estado: {{ (documento.estado == 'P') ? 'Pendiente' : documento.estado == 'E' ?
                                    'Emitido' : 'Aprobado' }}</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row justify-content-center prt-comprobante">
        <div class="col-11 pl-2 pr-2">
            <div class="row mt-2 mb-3">
                <div class="col-8">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold">Proveedor</span></div>
                        <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="proveedorActive.razon_social">
                    </div>
                </div>
                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold" style="width: 120px;">Estado</span></div>
                        <div class="form-control form-control-sm" style="background-color: #E4E6EA;">
                            <i placement="bottom" [ngbTooltip]="(documento.estado == 'P') ? 'Pendiente' : (documento.estado == 'E') ? 'Emitido' : ((documento.estado == 'A') ? 'Aprobado' : 'Anulado')" [class]="(documento.estado == 'P') ? 'fas fa-circle text-muted' : (documento.estado == 'E') ? 'fas fa-circle text-warning' : ((documento.estado == 'A') ? 'fas fa-circle text-success' : 'fas fa-circle text-danger')">
                            </i>
                            {{ (documento.estado == 'P') ? 'Pendiente' : (documento.estado == 'E') ? 'Emitido' :
                            ((documento.estado == 'A') ? 'Aprobado' : 'Anulado') }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-2 mb-3">
                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold">No.
                                Documento</span></div>
                        <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.documento">
                    </div>
                </div> 

                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold">No.</span>
                        </div>
                        <input type="text" class="form-control form-control-sm" readonly [(ngModel)]="documento.id_documento">
                    </div>
                </div>
                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">Fecha</span></div>
                        <input type="date" class="form-control form-control-sm" [(ngModel)]="documento.fecha">
                    </div>
                </div>
            </div>
            <div class="row mt-2 mb-3">
                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">No. Proceso</span></div>
                        <input type="text" class="form-control form-control-sm" [readonly]="titulosDisabled || formReadOnly" [(ngModel)]="documento.nro_proceso" maxlength="20" placeholder="No. Proceso">
                    </div>
                </div> 

                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">Nombre Proceso</span></div>
                        <input type="text" class="form-control form-control-sm" [readonly]="titulosDisabled || formReadOnly" [(ngModel)]="documento.nombre_proceso" maxlength="200" placeholder="Nombre Proceso">
                    </div>
                </div>

                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">Monto Proceso</span></div>
                        <input type="text" class="form-control form-control-sm" [readonly]="titulosDisabled || formReadOnly" [(ngModel)]="documento.monto_proceso" maxlength="17" placeholder="Monto Proceso" (keypress)="validaciones.numberOnlyDot($event)">
                    </div>
                </div>
            </div>
            <div class="row mt-2 mb-3">
                <div class="col-6">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo" >No. P&oacute;liza</span></div>
                        <input type="text" class="form-control form-control-sm" [readonly]="titulosDisabled || formReadOnly" [(ngModel)]="documento.nro_poliza" maxlength="20" placeholder="No. P&oacute;liza">
                    </div>
                </div>
                <div class="col-6">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold size-span-campo">Vigencia P&oacute;liza</span>
                        </div>
                        <input type="date" class="form-control form-control-sm" [readonly]="titulosDisabled || formReadOnly" [(ngModel)]="documento.vigencia_poliza" placeholder="Vigencia P&oacute;liza">
                    </div>
                </div>
                
            </div>
            <div class="row mt-2 mb-3">

                <div class="col-4">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend">
                            <span class="input-group-text font-weight-bold size-span-campo" id="inputGroup-sizing-sm">Tipo Desembolso</span>
                        </div>
                        <ng-select id="estado" class="form-control form-control-sm" [readonly]="titulosDisabled || formReadOnly" [(ngModel)]="documento.tipo_desembolso" maxlength="5">
                            <ng-option disabled [value]="0">Seleccione un tipo</ng-option>
                            <ng-option *ngFor="let op of tipoDesembolso" [value]="op.valor">
                                {{ op.descripcion }}</ng-option>
                        </ng-select>
                    </div>
                </div>

                <!-- <div class="col-8">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold text-white" style="width: 155px; background-color: #404A62;">Observaciones</span></div>
                        <textarea cols="30" rows="3" class="form-control form-control-sm" [readonly]="titulosDisabled || formReadOnly" [(ngModel)]="documento.observacion" placeholder="Observaciones"></textarea>
                    </div>
                </div> -->
            </div>

            <div class="row mb-2">
                <div class="col">
                    <div class="table-responsive">
                        <table class="table table-striped table-k table-hover">
                            <thead>
                                <tr class="text-center">
                                    <th style="width: 15%;">Conceptos</th>
                                    <th style="width: 30%;">DescripciÃ³n</th>
                                    <th class="text-right" style="width: 15%;">Valor</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngIf="pagos.length == 0">
                                    <td colspan="5" class="text-center">
                                        <h6 class="my-1">No hay conceptos</h6>
                                    </td>
                                </tr>
                                <ng-container *ngFor="let d of pagos, let i = index">
                                    <tr>
                                        <td class="text-center">{{ d.descripcion }}</td>
                                        <td class="text-center">
                                            <div class="input-group input-group-sm">
        
                                                <textarea  type="text" maxlength="200" class="form-control form-control-sm"  [(ngModel)]="d.comentario">{{ d.comentario }}</textarea>
                                            </div>
                                        </td>
                                        <!-- <td class="text-center">{{d.comentario}}</td> -->
                                        <td class="text-right">{{d.valor}}</td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="row my-2 justify-content-end">
                <div class="col-6">
                    <div class="input-group input-group-lg input-group-subtotal">
                        <div class="input-group-prepend"><span class="input-group-text font-weight-bold" style="width: 200px;">&Sigma; Valor pagado</span></div>
                        <input id="pagoTotal" type="text" class="form-control form-control-lg font-weight-bold text-right" readonly value="$ {{ totalPago | number: '1.2-2' }}">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row justify-content-center" style="font-family: 'Poppins1';">
        <div class="col-12 text-left" style="position: fixed; bottom: 0px; left: 25px;">
            <span style="color: #13A1EA;">
                Fecha: {{ documento.fecha }}</span>
        </div>
        <div *ngIf="dataUser" class="col-12 text-left" style="position: fixed; bottom: 20px; left: 25px;">
            <span style="color: #13A1EA;">
                Usuario: {{ dataUser.nombre }}</span>
        </div>
    </div>
</div>